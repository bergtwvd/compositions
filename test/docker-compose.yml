version: '2'

services:
 dis:
  image: app-docker136.hex.tno.nl:443/pitch/dis:2.6.0L
  command: -auto
  mac_address: 00:18:8B:0D:4F:1B
  environment:
  - DISPLAY=xserver:0

 crc:
  image: app-docker136.hex.tno.nl:443/pitch/crc:5.3.0.0L
  mac_address: 00:18:8B:0D:4F:0B
  environment:
  - DISPLAY=xserver:0

 xserver:
  image: app-docker136.hex.tno.nl:443/library/xserver
  ports:
  - "8082:8080"
  environment:
  - constraint:node==app-docker03.hex.tno.nl

 diswebgw:
  image: app-docker136.hex.tno.nl:443/msaas-usa/dis-web-gw:epic
  ports:
  - "8282:8282"
  - "8283:8283"
  - "3000:3000"
  environment:
  - affinity:container==dis
  
 epic:
  image: app-docker136.hex.tno.nl:443/epic/epic:cax
  environment:
  #- ses_url=http://172.31.36.132:8080/SgjWMS/WMS
  - dis_gw_url=app-docker01.hex.tno.nl
  - constraint:node==app-docker05.hex.tno.nl
  ports:
  - "7070:7070"

 shipsim:
  image: app-docker136.hex.tno.nl:443/msaas-aus/shipsim:pi
  command: --fom-modules-dir allrofoms --scalable

# kml:
#  image: app-docker136.hex.tno.nl:443/msaas-nld/kmlserver:pi
#  command: -f KMLServer -iconurl http://kml:8080/kmlserver -d rofoms

# ge:
#  image: app-docker136.hex.tno.nl:443/library/ge
#  command: -f -r 10 Gulf http://kml:8080/kmlserver/entities
#  environment:
#  - DISPLAY=xserver:0

# vrf:
#  image: app-docker136.hex.tno.nl:443/msaas-nld/vrf:pi
#  mac_address: 8C:70:5A:0B:58:7E
#  hostname: mak
#  command: -s demo -r -v
#  environment:
#  - DISPLAY=xserver:0
#  - MINSLEEP=5

# sesdb:
#  restart: always
#  image: app-docker136.hex.tno.nl:443/msaas-ger/sesdatabase:gulf
#  ports:
#  - "5432:5432"
#  environment: 
#  - POSTGRES_PASSWORD=postgres
#  volumes:
#  - sesdata:/var/lib/postgresql/data     
    
# ses:
#  image: app-docker136.hex.tno.nl:443/msaas-ger/ses:gulf
#  ports:
#  - "8080:8080"
#  environment:
#  - JAVA_OPTIONS=-Xmx2048m
#  depends_on:
#  - sesdb
        
#volumes:
# sesdata:
#  external: false
